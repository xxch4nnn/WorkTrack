<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luminus - Employee Management</title>
    <style>
        /* --- Paste ALL styles from your previous working file HERE --- */
        /* Includes :root, *, body, .sidebar, .topbar, .badge, .modal-*, etc. */
        :root { /* Ensure all variables are present */
            --navy: #172445; --blue: #0b4d83; --cream: #f5f1dd; --sand: #d9c087;
            --taupe: #c6bcb6; --light-blue: #3a7ca5; --gold: #e6c555; --soft-cream: #fcf9ee;
            --dark-taupe: #a99e94; --white: #ffffff; --primary-color: var(--blue);
            --secondary-color: var(--gold); --accent-color: var(--navy); --light-color: var(--cream);
            --dark-color: var(--navy); --text-dark: #333; --text-light: var(--white);
            --error: #d64045; --success: #4caf50; --warning: #f0a500; --info: #2196f3;
            /* Add any missing colors if needed */
            --leave-color: #607d8b; /* Example for On Leave badge */
            --resigned-color: #9e9e9e; /* Example for Resigned badge */
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background-color: var(--cream); color: var(--text-dark); min-height: 100vh; display: flex; }

        /* --- Sidebar Styles (Assume complete styles are here) --- */
        .sidebar { width: 250px; background-color: var(--navy); color: var(--text-light); height: 100vh; position: fixed; left: 0; top: 0; display: flex; flex-direction: column; transition: transform 0.3s ease, box-shadow 0.3s ease; box-shadow: 2px 0 10px rgba(0,0,0,0.1); z-index: 1000; /* Higher z-index for overlap */ }
        .sidebar.active { transform: translateX(0); box-shadow: 5px 0 15px rgba(0,0,0,0.2); }
        /* Simplified Sidebar content styles - ensure these match your original */
        .sidebar-header { padding: 20px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
        .sidebar-header .logo { font-size: 24px; font-weight: bold; color: var(--text-light); text-decoration: none; display: flex; align-items: center; }
        .sidebar-header .logo::before { content: ""; display: inline-block; width: 8px; height: 24px; background-color: var(--gold); margin-right: 10px; }
        .toggle-btn { background: none; border: none; color: var(--text-light); cursor: pointer; font-size: 20px; display: none; /* Shown via media query */ }
        .user-profile { padding: 20px; display: flex; align-items: center; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
        .user-avatar { width: 40px; height: 40px; border-radius: 50%; background-color: var(--light-blue); display: flex; align-items: center; justify-content: center; margin-right: 10px; font-weight: bold; border: 2px solid var(--gold); color: var(--white); }
        .user-info { display: flex; flex-direction: column; } .user-name { font-weight: 500; font-size: 14px; } .user-role { font-size: 12px; opacity: 0.7; }
        .nav-menu { padding: 10px 0; flex-grow: 1; overflow-y: auto; }
        .nav-item { display: flex; align-items: center; padding: 12px 20px; color: var(--text-light); text-decoration: none; transition: all 0.3s; border-left: 3px solid transparent; margin-bottom: 5px; }
        .nav-item:hover { background-color: rgba(255, 255, 255, 0.05); }
        .nav-item.active { background-color: rgba(255, 255, 255, 0.1); border-left-color: var(--gold); }
        .nav-icon { margin-right: 10px; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; }
        .sidebar-footer { padding: 15px 20px; border-top: 1px solid rgba(255, 255, 255, 0.1); font-size: 12px; display: flex; flex-direction: column; }
        .sidebar-footer a { color: var(--text-light); text-decoration: none; opacity: 0.7; transition: opacity 0.3s; margin-top: 5px; }
        .sidebar-footer a:hover { opacity: 1; }
        .lighthouse-badge { padding: 10px; background-color: rgba(255, 255, 255, 0.05); border-radius: 6px; display: flex; align-items: center; margin-top: 10px; font-size: 11px; }
        .lighthouse-badge svg { margin-right: 5px; width: 14px; height: 14px; }

        /* --- Main Content & Topbar Styles (Assume complete styles are here) --- */
        .main-content { flex: 1; margin-left: 250px; padding: 20px; display: flex; flex-direction: column; max-width: calc(100% - 250px); transition: margin-left 0.3s ease; }
        .topbar { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; background-color: var(--white); border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); margin-bottom: 20px; }
        .page-title { font-size: 24px; font-weight: bold; color: var(--navy); }
        /* Topbar actions, search, icons assumed styled */
        .topbar-actions { display: flex; align-items: center; }
        .search-container { position: relative; margin-right: 15px; }
        .search-input { padding: 8px 15px 8px 35px; border: 1px solid var(--taupe); border-radius: 20px; font-size: 14px; width: 220px; transition: all 0.3s; }
        .search-input:focus { width: 280px; border-color: var(--blue); outline: none; box-shadow: 0 0 0 2px rgba(11, 77, 131, 0.1); }
        .search-icon { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--dark-taupe); }
        .topbar-icon { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background-color: var(--soft-cream); cursor: pointer; margin-left: 10px; transition: all 0.3s; color: var(--navy); position: relative; }
        .topbar-icon:hover { background-color: var(--cream); }
        .notification-badge { position: absolute; top: -5px; right: -5px; width: 18px; height: 18px; background-color: var(--error); color: white; border-radius: 50%; font-size: 10px; display: flex; align-items: center; justify-content: center; font-weight: bold; }


        /* --- Content Wrapper --- */
        .content-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* --- Page Controls & Summary --- */
        .page-controls-header {
            background-color: var(--white);
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
        }
        .page-summary-info {
            display: flex; /* Keep summary items inline */
            flex-wrap: wrap; /* Allow wrapping */
            gap: 5px 15px; /* Row and column gap */
            align-items: center;
        }
        .page-summary-info span {
             font-size: 14px;
             color: var(--dark-taupe);
             /* margin-right: 15px; Removed margin, using gap now */
         }
        .page-summary-info strong {
             color: var(--navy);
             font-weight: 600;
        }
        #appliedFiltersInfo { /* Style for the filter info span */
            font-style: italic;
            color: var(--blue);
            font-size: 13px;
            border-left: 2px solid var(--sand); /* Visual separator */
            padding-left: 15px;
            margin-left: 10px; /* Space from other info */
        }
         #appliedFiltersInfo:empty { /* Hide if empty */
            display: none;
         }

        .page-actions {
            display: flex;
            gap: 10px;
        }
         .page-actions button {
            padding: 8px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            transition: background-color 0.3s;
            display: inline-flex; /* Align icon and text */
            align-items: center;
            gap: 5px;
        }
        .btn-primary { background-color: var(--blue); color: var(--white); }
        .btn-primary:hover { background-color: var(--light-blue); }
        .btn-secondary { background-color: var(--gold); color: var(--navy); }
        .btn-secondary:hover { background-color: var(--sand); }
        .btn-light { background-color: var(--soft-cream); color: var(--navy); border: 1px solid var(--taupe); }
        .btn-light:hover { background-color: var(--cream); }
        .btn-danger { background-color: var(--error); color: var(--white); }
        .btn-danger:hover { background-color: #c0392b; }


        /* --- Filter Bar --- */
        .filter-bar {
            display: flex;
            flex-wrap: wrap;
            gap: 10px 15px; /* Row and column gap */
            padding: 15px 20px;
            background-color: var(--white);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            align-items: flex-end; /* Align items to bottom for better button alignment */
        }
        .filter-item {
            display: flex; /* Use flex for label + input */
            flex-direction: column; /* Stack label on top */
            flex-grow: 1; /* Allow items to grow */
            min-width: 150px; /* Minimum width before wrapping */
        }
        .filter-item label {
            font-size: 11px;
            color: var(--dark-taupe);
            margin-bottom: 3px;
            font-weight: 500;
        }
        .filter-item input[type="search"],
        .filter-item input[type="date"],
        .filter-item select {
            width: 100%; /* Take full width of container */
            padding: 8px 12px;
            border: 1px solid var(--taupe);
            border-radius: 6px;
            font-size: 13px;
            background-color: var(--soft-cream);
        }
        .filter-item input[type="search"] {
             padding-left: 12px; /* Reset padding if no icon needed */
        }
        .filter-actions {
            display: flex;
            gap: 10px;
            padding-bottom: 1px; /* Align buttons better with input bottom border */
        }
         .filter-actions button {
             padding: 8px 15px; /* Match input height */
         }

        /* --- Employee Table (Assume styles are complete) --- */
        .table-card { background-color: var(--white); border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); overflow-x: auto; }
        .employees-table { width: 100%; border-collapse: collapse; min-width: 900px; }
        .employees-table th { text-align: left; padding: 12px 15px; border-bottom: 2px solid var(--cream); color: var(--dark-taupe); font-weight: 600; font-size: 12px; white-space: nowrap; text-transform: uppercase; }
        .employees-table td { padding: 12px 15px; border-bottom: 1px solid var(--cream); font-size: 14px; vertical-align: middle; }
        .employees-table tbody tr { transition: background-color 0.3s; }
        .employees-table tbody tr:hover { background-color: var(--soft-cream); }
        .employees-table tr:last-child td { border-bottom: none; }
        .employee-info-cell { display: flex; align-items: center; }
        .employee-avatar-small { width: 32px; height: 32px; border-radius: 50%; background-color: var(--light-blue); display: flex; align-items: center; justify-content: center; margin-right: 10px; font-weight: bold; color: var(--white); font-size: 12px; flex-shrink: 0; }
        .employee-name-table { font-weight: 500; }
        .table-actions-cell { display: flex; gap: 5px; white-space: nowrap; }
        .action-icon-btn { padding: 5px; border-radius: 4px; border: none; background-color: transparent; color: var(--dark-taupe); cursor: pointer; transition: all 0.3s; display: inline-flex; align-items: center; justify-content: center; }
        .action-icon-btn svg { width: 16px; height: 16px; }
        .action-icon-btn:hover { background-color: var(--soft-cream); }
        .action-icon-btn.view-btn:hover { color: var(--info); }
        .action-icon-btn.edit-btn:hover { color: var(--blue); }
        .action-icon-btn.delete-btn:hover { color: var(--error); }


        /* --- Badges (Assume styles are complete) --- */
        .badge { padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; text-transform: uppercase; display: inline-block; white-space: nowrap; }
        .badge-active { background-color: rgba(76, 175, 80, 0.1); color: var(--success); }
        .badge-on-leave { background-color: rgba(96, 125, 139, 0.1); color: var(--leave-color); }
        .badge-resigned { background-color: rgba(158, 158, 158, 0.1); color: var(--resigned-color); }
        .badge-weekly { background-color: rgba(33, 150, 243, 0.1); color: var(--info); }
        .badge-semi-monthly { background-color: rgba(156, 39, 176, 0.1); color: #9c27b0; }
        .badge-monthly { background-color: rgba(0, 150, 136, 0.1); color: #009688; }

        /* --- Pagination (Assume styles are complete) --- */
         .pagination-controls { text-align: center; padding: 20px 0; font-size: 14px; color: var(--dark-taupe); }

        /* --- Modals (Assume styles are complete) --- */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); z-index: 1050; display: none; align-items: center; justify-content: center; }
        .modal-overlay.visible { display: flex; }
        .modal-content { background-color: var(--white); border-radius: 8px; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2); width: 90%; max-width: 700px; max-height: 90vh; display: flex; flex-direction: column; }
        .modal-header { padding: 15px 20px; border-bottom: 1px solid var(--cream); display: flex; justify-content: space-between; align-items: center; }
        .modal-title { font-size: 18px; font-weight: 600; color: var(--navy); }
        .modal-close-btn { background: none; border: none; font-size: 24px; cursor: pointer; color: var(--dark-taupe); line-height: 1; }
        .modal-body { padding: 20px 25px; overflow-y: auto; flex-grow: 1; }
        .modal-footer { padding: 15px 20px; border-top: 1px solid var(--cream); display: flex; justify-content: flex-end; gap: 10px; background-color: var(--soft-cream); border-radius: 0 0 8px 8px; }
        .modal-footer button { padding: 8px 15px; }
        .employee-form .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px 20px; }
        .employee-form .form-group { margin-bottom: 5px; }
        .employee-form .form-group label { display: block; margin-bottom: 5px; color: var(--text-dark); font-weight: 500; font-size: 13px; }
        .employee-form .form-group input, .employee-form .form-group select, .employee-form .form-group textarea { width: 100%; padding: 10px 12px; border: 1px solid var(--taupe); border-radius: 4px; font-size: 14px; transition: all 0.3s; background-color: var(--white); }
        .employee-form .form-group input:focus, .employee-form .form-group select:focus, .employee-form .form-group textarea:focus { border-color: var(--blue); box-shadow: 0 0 0 2px rgba(11, 77, 131, 0.1); outline: none; }
        .employee-form .form-group textarea { min-height: 80px; resize: vertical; }
        .employee-form .form-group.full-width { grid-column: 1 / -1; }
        .modal-content.confirm-delete { max-width: 450px; }
        .confirm-delete .modal-body { text-align: center; padding: 30px 20px; }
        .confirm-delete .modal-body svg { width: 50px; height: 50px; color: var(--warning); margin-bottom: 15px; }
        .confirm-delete #deleteMessage { font-size: 15px; color: var(--text-dark); line-height: 1.5; margin-bottom: 10px; }
        .confirm-delete #deleteEmployeeName { font-weight: 600; color: var(--navy); }

        /* --- Profile Side Panel (Assume styles are complete) --- */
        .profile-side-panel { position: fixed; top: 0; right: 0; width: 400px; max-width: 90%; height: 100vh; background-color: var(--white); box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1); z-index: 1040; transform: translateX(100%); transition: transform 0.3s ease-in-out; display: flex; flex-direction: column; }
        .profile-side-panel.visible { transform: translateX(0); }
        .profile-header { padding: 15px 20px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid var(--cream); background-color: var(--soft-cream); }
        .profile-header-info { display: flex; align-items: center; gap: 10px; }
        .profile-header .modal-close-btn { font-size: 20px; }
        #profileName { font-size: 16px; font-weight: 600; color: var(--navy); }
        #profileAvatar { /* Reuse styles */ }
        .profile-tabs { display: flex; border-bottom: 1px solid var(--cream); background-color: var(--soft-cream); }
        .tab-link { padding: 10px 15px; cursor: pointer; font-size: 13px; font-weight: 500; color: var(--dark-taupe); border-bottom: 2px solid transparent; transition: all 0.3s; text-align: center; flex-grow: 1; }
        .tab-link:hover { color: var(--blue); }
        .tab-link.active { color: var(--blue); border-bottom-color: var(--blue); }
        .profile-body { padding: 20px; overflow-y: auto; flex-grow: 1; }
        .profile-tab-content { display: none; }
        .profile-tab-content.active { display: block; }
        .profile-section { margin-bottom: 20px; }
        .profile-section h5 { font-size: 14px; color: var(--navy); margin-bottom: 10px; font-weight: 600; }
        .profile-info-grid { display: grid; grid-template-columns: 120px 1fr; gap: 8px; font-size: 14px; }
        .profile-info-grid dt { color: var(--dark-taupe); font-weight: 500; }
        .profile-info-grid dd { color: var(--navy); }
        .history-table { width: 100%; font-size: 13px; border-collapse: collapse; }
        .history-table th, .history-table td { border: 1px solid var(--cream); padding: 6px 8px; text-align: left; }
        .history-table th { background-color: var(--soft-cream); }
        #profileNotes { font-size: 13px; white-space: pre-wrap; line-height: 1.5; color: var(--text-dark); background-color: var(--soft-cream); padding: 10px; border-radius: 4px; min-height: 50px; border: 1px solid var(--cream); }


        /* --- Responsive Adjustments (Assume styles are complete) --- */
        @media (max-width: 992px) { .employees-table { min-width: 800px; } }
        @media (max-width: 768px) {
            .sidebar { transform: translateX(-250px); }
            .main-content { margin-left: 0 !important; max-width: 100%; } /* Ensure margin reset */
            .toggle-btn { display: block; }
            .page-controls-header { flex-direction: column; align-items: flex-start; }
            .filter-bar { flex-direction: column; align-items: stretch; } /* Stretch items */
            .filter-actions { width: auto; justify-content: flex-end; margin-top: 10px; } /* Align buttons right */
            .modal-content { width: 95%; max-width: 95%; }
            .profile-side-panel { width: 320px; }
        }
        @media (max-width: 576px) {
             .page-title { font-size: 20px; }
             .page-summary-info span { display: block; margin-bottom: 5px; }
             #appliedFiltersInfo { margin-left: 0; padding-left: 0; border-left: none; margin-top: 5px; }
             .page-actions { width: 100%; flex-direction: column; } /* Stack buttons */
             .page-actions button { width: 100%; justify-content: center; }
             .filter-item { min-width: 100%; } /* Full width filters */
             .employees-table { font-size: 13px; min-width: 600px; }
             .employees-table th, .employees-table td { padding: 8px 10px; }
             .action-icon-btn svg { width: 14px; height: 14px; }
             .employee-form .form-grid { grid-template-columns: 1fr; } /* Stack form fields */
             .profile-side-panel { width: 100%; }
             .profile-info-grid { grid-template-columns: 100px 1fr; }
        }

        /* --- Print Styles (Assume styles are complete) --- */
        @media print {
             body { display: block !important; background-color: var(--white) !important; font-size: 10pt !important; color: #000 !important; }
             .sidebar, .topbar, .page-controls-header, .filter-bar, .pagination-controls, .modal-overlay, .profile-side-panel, .toggle-btn { display: none !important; }
             .main-content { margin-left: 0 !important; padding: 0 !important; max-width: 100% !important; }
             .content-wrapper { gap: 0 !important; }
             .table-card { box-shadow: none !important; border: 1px solid #ccc !important; padding: 10px !important; margin-top: 0 !important; overflow: visible !important; }
             .employees-table { font-size: 9pt !important; min-width: auto !important; border-collapse: collapse !important; }
             .employees-table th, .employees-table td { border: 1px solid #ccc !important; padding: 5px 8px !important; color: #000 !important; }
             .employees-table th { background-color: #f0f0f0 !important; }
             .employees-table .table-actions-cell { display: none !important; }
             .badge { background-color: transparent !important; border: 1px solid #aaa; color: #333 !important; padding: 2px 4px !important; font-size: 8pt !important; text-transform: none; }
        }

    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
         <!-- Full Sidebar HTML Copied from previous file -->
         <div class="sidebar-header"> <a href="#" class="logo">LUMINUS</a> <button class="toggle-btn" id="sidebarToggle"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg> </button> </div>
         <div class="user-profile"> <div class="user-avatar">AM</div> <div class="user-info"><span class="user-name">Admin Manager</span><span class="user-role">Administrator</span></div> </div>
         <div class="nav-menu">
            <a href="dashboard-page.html" class="nav-item"> <div class="nav-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg> </div> Dashboard </a>
            <a href="payslip-page.html" class="nav-item"> <div class="nav-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg> </div> Payslip </a>
            <a href="#" class="nav-item"> <div class="nav-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> </div> Companies </a>
            <a href="employee.html" class="nav-item active"> <!-- FIXED: Point to self and mark active --> <div class="nav-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> </div> Employees </a>
            <a href="#" class="nav-item"> <div class="nav-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><line x1="10" y1="9" x2="8" y2="9"></line></svg> </div> Reports </a>
            <a href="#" class="nav-item"> <div class="nav-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg> </div> Settings </a>
         </div>
         <div class="sidebar-footer">
             <a href="#"> <div style="display: flex; align-items: center;"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 5px;"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg> Support </div> </a>
             <a href="login-page.html"> <div style="display: flex; align-items: center;"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 5px;"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg> Logout </div> </a>
             <div class="lighthouse-badge"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg> <span>Developed by Lighthouse</span> </div>
         </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Top Bar -->
         <div class="topbar">
             <div style="display: flex; align-items: center;">
                 <button class="toggle-btn" id="sidebarToggleMain" style="margin-right: 15px; color: var(--navy);">
                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                 </button>
                 <div class="page-title">Employee Management</div>
             </div>
             <div class="topbar-actions">
                 <div class="search-container"> <input type="text" class="search-input" placeholder="Global Search..."> <div class="search-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg> </div> </div>
                 <div class="topbar-icon" title="Notifications"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg> <div class="notification-badge">3</div> </div>
             </div>
         </div>

        <!-- Content Wrapper for Employees Page -->
        <div class="content-wrapper">

             <!-- Page Controls / Summary Header -->
             <div class="page-controls-header">
                 <div class="page-summary-info">
                     <span>Total Employees: <strong id="totalEmployees">152</strong></span>
                     <span>Showing: <strong id="showingEmployees">1-10</strong></span>
                     <!-- FIXED: Uncommented and ID added for JS -->
                     <span id="appliedFiltersInfo"></span>
                 </div>
                 <div class="page-actions">
                      <button class="btn-secondary">
                          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                          Export List
                      </button>
                      <button class="btn-primary" onclick="openEmployeeModal()">
                           <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                           Add Employee
                      </button>
                 </div>
             </div>

             <!-- Filter Bar -->
             <div class="filter-bar">
                 <div class="filter-item">
                      <label for="filterName">Search Name</label>
                      <input type="search" id="filterName" placeholder="Search by name..." aria-label="Search employee name">
                 </div>
                 <div class="filter-item">
                      <label for="filterCompany">Company</label>
                      <select id="filterCompany" aria-label="Filter by company">
                          <option value="">All Companies</option>
                          <option value="Tech Innovators Inc.">Tech Innovators Inc.</option>
                          <option value="Global Solutions Ltd.">Global Solutions Ltd.</option>
                          <option value="Creative Designs Co.">Creative Designs Co.</option>
                      </select>
                 </div>
                  <div class="filter-item">
                       <label for="filterRole">Role</label>
                       <select id="filterRole" aria-label="Filter by role">
                           <option value="">All Roles</option>
                           <option value="Project Lead">Project Lead</option>
                           <option value="Programmer">Programmer</option>
                           <option value="Graphic Artist">Graphic Artist</option>
                           <option value="Communications Liaison">Communications Liaison</option>
                           <option value="Admin Staff">Admin Staff</option>
                       </select>
                  </div>
                 <div class="filter-item">
                     <label for="filterSchedule">Schedule</label>
                     <select id="filterSchedule" aria-label="Filter by schedule">
                         <option value="">All Schedules</option>
                         <option value="Weekly">Weekly</option>
                         <option value="Semi-monthly">Semi-monthly</option>
                         <option value="Monthly">Monthly</option>
                     </select>
                 </div>
                 <div class="filter-item">
                     <label for="filterStatus">Status</label>
                     <select id="filterStatus" aria-label="Filter by status">
                         <option value="">All Statuses</option>
                         <option value="Active">Active</option>
                         <option value="On Leave">On Leave</option>
                         <option value="Resigned">Resigned</option>
                     </select>
                 </div>
                  <!-- FIXED: Replaced placeholder with two date inputs -->
                  <div class="filter-item">
                     <label for="filterDateHiredStart">Date Hired (Start)</label>
                     <input type="date" id="filterDateHiredStart" aria-label="Filter by date hired start">
                  </div>
                  <div class="filter-item">
                      <label for="filterDateHiredEnd">Date Hired (End)</label>
                      <input type="date" id="filterDateHiredEnd" aria-label="Filter by date hired end">
                  </div>
                 <div class="filter-actions">
                     <!-- FIXED: Added IDs to buttons -->
                     <button class="btn-primary" id="applyFiltersBtn">Apply</button>
                     <button class="btn-light" id="clearFiltersBtn">Clear</button>
                 </div>
             </div>

            <!-- Employee Directory Table -->
            <div class="table-card">
                 <table class="employees-table">
                    <thead>
                        <tr>
                            <th>Employee Name</th>
                            <th>Assigned Company</th>
                            <th>Role / Job Title</th>
                            <th>Salary Schedule</th>
                            <th>Status</th>
                            <th>Date Hired</th>
                            <th>Last Payslip Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Example Row 1 (Active) -->
                        <tr>
                            <td>
                                <div class="employee-info-cell">
                                    <div class="employee-avatar-small" style="background-color: var(--info);">JD</div>
                                    <span class="employee-name-table">Juan Dela Cruz</span>
                                </div>
                            </td>
                            <td>Tech Innovators Inc.</td>
                            <td>Project Lead</td>
                            <td><span class="badge badge-weekly">Weekly</span></td>
                            <td><span class="badge badge-active">Active</span></td>
                            <td>Jan 15, 2022</td>
                            <td>Oct 27, 2023</td>
                            <td class="table-actions-cell">
                                <button class="action-icon-btn view-btn" title="View Profile" onclick="openProfilePanel('EMP001')"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> </button>
                                <button class="action-icon-btn edit-btn" title="Edit Employee" onclick="openEmployeeModal('EMP001')"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> </button>
                                <button class="action-icon-btn delete-btn" title="Delete Employee" onclick="openDeleteModal('EMP001', 'Juan Dela Cruz')"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg> </button>
                            </td>
                        </tr>
                        <!-- Example Row 2 (On Leave) -->
                        <tr>
                            <td>
                                <div class="employee-info-cell">
                                    <div class="employee-avatar-small" style="background-color: var(--leave-color);">MS</div>
                                    <span class="employee-name-table">Maria Santos</span>
                                </div>
                            </td>
                            <td>Global Solutions Ltd.</td>
                            <td>Admin Staff</td>
                             <td><span class="badge badge-monthly">Monthly</span></td>
                            <td><span class="badge badge-on-leave">On Leave</span></td>
                            <td>Feb 10, 2023</td>
                            <td>Sep 30, 2023</td>
                             <td class="table-actions-cell">
                                <button class="action-icon-btn view-btn" title="View Profile" onclick="openProfilePanel('EMP002')"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> </button>
                                <button class="action-icon-btn edit-btn" title="Edit Employee" onclick="openEmployeeModal('EMP002')"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> </button>
                                <button class="action-icon-btn delete-btn" title="Delete Employee" onclick="openDeleteModal('EMP002', 'Maria Santos')"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg> </button>
                             </td>
                        </tr>
                         <!-- Example Row 3 (Resigned) -->
                        <tr>
                            <td>
                                <div class="employee-info-cell">
                                     <div class="employee-avatar-small" style="background-color: var(--resigned-color);">CR</div>
                                    <span class="employee-name-table">Carlos Reyes</span>
                                </div>
                            </td>
                            <td>Creative Designs Co.</td>
                            <td>Graphic Artist</td>
                            <td><span class="badge badge-semi-monthly">Semi-monthly</span></td>
                            <td><span class="badge badge-resigned">Resigned</span></td>
                            <td>Mar 01, 2022</td>
                            <td>Aug 15, 2023</td>
                             <td class="table-actions-cell">
                                <button class="action-icon-btn view-btn" title="View Profile" onclick="openProfilePanel('EMP003')"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> </button>
                                <button class="action-icon-btn edit-btn" title="Edit Employee" onclick="openEmployeeModal('EMP003')"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> </button>
                                <button class="action-icon-btn delete-btn" title="Delete Employee (Disabled?)" disabled style="opacity:0.5"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg> </button>
                             </td>
                        </tr>
                        <!-- Add more rows -->
                    </tbody>
                 </table>
            </div>

             <!-- Pagination Placeholder -->
            <div class="pagination-controls">
                 <!-- JS will populate this with page numbers, prev/next -->
                 < Prev   <strong>1</strong>   2   3   ...   16   Next >
            </div>


        </div> <!-- End Content Wrapper -->

    </div> <!-- End Main Content -->


    <!-- Add/Edit Employee Modal (Keep as is) -->
    <div class="modal-overlay" id="employeeModal">
        <div class="modal-content"> <form id="employeeForm" class="employee-form"> <input type="hidden" id="employeeId" name="employee_id"> <div class="modal-header"> <h5 class="modal-title" id="modalTitle">Add New Employee</h5> <button type="button" class="modal-close-btn" onclick="closeEmployeeModal()" aria-label="Close">×</button> </div> <div class="modal-body"> <div class="form-grid"> <div class="form-group"> <label for="employeeName">Full Name</label> <input type="text" id="employeeName" name="name" required> </div> <div class="form-group"> <label for="employeeGender">Gender</label> <select id="employeeGender" name="gender"> <option value="">Select Gender</option> <option value="Male">Male</option> <option value="Female">Female</option> <option value="Other">Other</option> </select> </div> <div class="form-group"> <label for="employeeBirthday">Birthday</label> <input type="date" id="employeeBirthday" name="birthday"> </div> <div class="form-group"> <label for="employeeContact">Contact Number</label> <input type="tel" id="employeeContact" name="contact_number"> </div> <div class="form-group"> <label for="employeeEmail">Email Address</label> <input type="email" id="employeeEmail" name="email"> </div> <div class="form-group"> <label for="employeeCompany">Company Assignment</label> <select id="employeeCompany" name="company_id" required> <option value="">Select Company</option> <option value="tech">Tech Innovators Inc.</option> <option value="global">Global Solutions Ltd.</option> <option value="creative">Creative Designs Co.</option> </select> </div> <div class="form-group"> <label for="employeeSchedule">Salary Schedule</label> <select id="employeeSchedule" name="salary_schedule" required> <option value="">Select Schedule</option> <option value="Weekly">Weekly</option> <option value="Semi-monthly">Semi-monthly</option> <option value="Monthly">Monthly</option> </select> </div> <div class="form-group"> <label for="employeeRole">Role/Position</label> <input type="text" id="employeeRole" name="role"> </div> <div class="form-group"> <label for="employeeSSS">SSS Number</label> <input type="text" id="employeeSSS" name="sss_number"> </div> <div class="form-group"> <label for="employeePHIC">PHIC Number</label> <input type="text" id="employeePHIC" name="phic_number"> </div> <div class="form-group"> <label for="employeeHDMF">HDMF Number (Pag-IBIG)</label> <input type="text" id="employeeHDMF" name="hdmf_number"> </div> <div class="form-group"> <label for="employeeDateHired">Date Hired</label> <input type="date" id="employeeDateHired" name="date_hired"> </div> <div class="form-group full-width"> <label for="employeeNotes">Notes/Remarks</label> <textarea id="employeeNotes" name="notes" rows="3"></textarea> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn-light" onclick="closeEmployeeModal()">Cancel</button> <button type="submit" class="btn-primary">Save Employee</button> </div> </form> </div>
    </div>

    <!-- Delete Confirmation Modal (Keep as is) -->
    <div class="modal-overlay" id="deleteConfirmModal">
        <div class="modal-content confirm-delete"> <div class="modal-header"> <h5 class="modal-title">Confirm Deletion</h5> <button type="button" class="modal-close-btn" onclick="closeDeleteModal()" aria-label="Close">×</button> </div> <div class="modal-body"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg> <p id="deleteMessage">Are you sure you want to delete the employee:</p> <strong id="deleteEmployeeName">Employee Name Here</strong>? <p style="font-size: 12px; color: var(--error); margin-top: 10px;">This action cannot be undone.</p> </div> <div class="modal-footer"> <button type="button" class="btn-light" onclick="closeDeleteModal()">Cancel</button> <button type="button" class="btn-danger" onclick="confirmDelete()">Confirm Delete</button> </div> </div>
    </div>

    <!-- View Profile Side Panel (Keep as is) -->
     <div class="profile-side-panel" id="profilePanel">
         <div class="profile-header"> <div class="profile-header-info"> <div id="profileAvatar" class="employee-avatar-small" style="width:36px; height:36px; font-size: 14px;">JD</div> <span id="profileName">Juan Dela Cruz</span> </div> <button class="modal-close-btn" onclick="closeProfilePanel()" title="Close Profile">×</button> </div>
         <div class="profile-tabs"> <a class="tab-link active" onclick="switchProfileTab('basicInfoTab')">Basic Info</a> <a class="tab-link" onclick="switchProfileTab('employmentTab')">Employment</a> <a class="tab-link" onclick="switchProfileTab('payslipTab')">Payslips</a> <a class="tab-link" onclick="switchProfileTab('notesTab')">Notes</a> </div>
         <div class="profile-body">
             <div id="basicInfoTab" class="profile-tab-content active"> <div class="profile-section"> <h5>Personal Details</h5> <dl class="profile-info-grid"> <dt>Full Name</dt><dd id="profileFullName">Juan Dela Cruz</dd> <dt>Gender</dt><dd id="profileGender">Male</dd> <dt>Birthday</dt><dd id="profileBirthday">Jan 05, 1990</dd> <dt>Contact</dt><dd id="profileContact">0917-123-4567</dd> <dt>Email</dt><dd id="profileEmail">juan.delacruz@email.com</dd> </dl> </div> <div class="profile-section"> <h5>Government IDs</h5> <dl class="profile-info-grid"> <dt>SSS No.</dt><dd id="profileSSS">12-3456789-0</dd> <dt>PHIC No.</dt><dd id="profilePHIC">123456789012</dd> <dt>HDMF No.</dt><dd id="profileHDMF">1234-5678-9012</dd> </dl> </div> </div>
             <div id="employmentTab" class="profile-tab-content"> <div class="profile-section"> <h5>Job Information</h5> <dl class="profile-info-grid"> <dt>Employee ID</dt><dd id="profileEmpId">TECH-00123</dd> <dt>Company</dt><dd id="profileCompany">Tech Innovators Inc.</dd> <dt>Role</dt><dd id="profileRole">Project Lead</dd> <dt>Schedule</dt><dd id="profileSchedule">Weekly</dd> <dt>Date Hired</dt><dd id="profileDateHired">Jan 15, 2022</dd> <dt>Status</dt><dd id="profileStatus"><span class="badge badge-active">Active</span></dd> </dl> </div> <div class="profile-section"> <h5>Employment History (Placeholder)</h5> <p style="font-size: 13px; color: var(--dark-taupe);">Movement/Promotion history can be listed here.</p> </div> </div>
             <div id="payslipTab" class="profile-tab-content"> <div class="profile-section"> <h5>Recent Payslips (Placeholder)</h5> <p style="font-size: 13px; color: var(--dark-taupe);">A table listing recent payslips...</p> <table class="history-table"> <thead><tr><th>Period</th><th>Net Pay</th><th>Status</th><th>Action</th></tr></thead> <tbody> <tr><td>Oct 16-31, 2023</td><td>₱16,349.50</td><td>Confirmed</td><td><a href="#" style="color: var(--blue);">View</a></td></tr> <tr><td>Oct 01-15, 2023</td><td>₱15,980.00</td><td>Confirmed</td><td><a href="#" style="color: var(--blue);">View</a></td></tr> </tbody> </table> </div> </div>
             <div id="notesTab" class="profile-tab-content"> <div class="profile-section"> <h5>Remarks & Notes</h5> <p id="profileNotes" style="font-size: 13px; white-space: pre-wrap; line-height: 1.5; color: var(--text-dark); background-color: var(--soft-cream); padding: 10px; border-radius: 4px; min-height: 50px; border: 1px solid var(--cream);"> Employee received a warning on Oct 10 for tardiness. Completed project milestone bonus eligible for Nov payslip. </p> </div> </div>
         </div>
     </div>

    <script>
        // --- Sidebar Toggle Script (Keep as is) ---
        const sidebar = document.querySelector('.sidebar');
        const mainContent = document.getElementById('mainContent');
        const toggleButtons = document.querySelectorAll('#sidebarToggle, #sidebarToggleMain');
        toggleButtons.forEach(button => { button.addEventListener('click', () => { const isActive = sidebar.classList.toggle('active'); mainContent.style.marginLeft = isActive && window.innerWidth > 768 ? '250px' : '0'; }); });
        document.addEventListener('click', function(event) { const isClickInsideSidebar = sidebar.contains(event.target); const isToggleButton = Array.from(toggleButtons).some(btn => btn.contains(event.target)); if (!isClickInsideSidebar && !isToggleButton && sidebar.classList.contains('active') && window.innerWidth <= 768) { sidebar.classList.remove('active'); mainContent.style.marginLeft = '0'; } });
        window.addEventListener('resize', () => { if (sidebar.classList.contains('active') && window.innerWidth > 768) { mainContent.style.marginLeft = '250px'; } else { mainContent.style.marginLeft = '0'; } });
        if (sidebar.classList.contains('active') && window.innerWidth > 768) { mainContent.style.marginLeft = '250px'; }


        // --- Modal Handling (Keep as is) ---
        const employeeModal = document.getElementById('employeeModal');
        const deleteModal = document.getElementById('deleteConfirmModal');
        const modalTitle = document.getElementById('modalTitle');
        const employeeForm = document.getElementById('employeeForm');
        const employeeIdInput = document.getElementById('employeeId');
        const deleteEmployeeName = document.getElementById('deleteEmployeeName');
        let employeeToDeleteId = null;
        function openEmployeeModal(employeeId = null) { employeeForm.reset(); employeeIdInput.value = ''; if (employeeId) { modalTitle.textContent = `Edit Employee (ID: ${employeeId})`; employeeIdInput.value = employeeId; /* TODO: Fetch & Populate Form */ document.getElementById('employeeName').value = "Fetched Name"; } else { modalTitle.textContent = 'Add New Employee'; } employeeModal.classList.add('visible'); }
        function closeEmployeeModal() { employeeModal.classList.remove('visible'); }
        function openDeleteModal(employeeId, employeeName) { employeeToDeleteId = employeeId; deleteEmployeeName.textContent = employeeName; deleteModal.classList.add('visible'); }
        function closeDeleteModal() { employeeToDeleteId = null; deleteModal.classList.remove('visible'); }
        function confirmDelete() { if (employeeToDeleteId) { console.log(`Deleting employee with ID: ${employeeToDeleteId}`); /* TODO: API Call */ closeDeleteModal(); } }
        employeeForm.addEventListener('submit', function(event) { event.preventDefault(); const formData = new FormData(employeeForm); const employeeData = Object.fromEntries(formData.entries()); const employeeId = employeeIdInput.value; console.log("Form Data:", employeeData); if (employeeId) { console.log(`Updating employee ID: ${employeeId}`); /* TODO: API Call */ } else { console.log("Creating new employee"); /* TODO: API Call */ } closeEmployeeModal(); });


        // --- Profile Side Panel (Keep as is) ---
         const profilePanel = document.getElementById('profilePanel');
         const profileTabLinks = document.querySelectorAll('.profile-tabs .tab-link');
         const profileTabContents = document.querySelectorAll('.profile-body .profile-tab-content');
         function openProfilePanel(employeeId) { console.log(`Opening profile for employee ID: ${employeeId}`); /* TODO: Fetch & Populate Panel */ populateProfilePanel({ id: employeeId, name: 'Fetched Profile Name', /* ... other data */ }); profilePanel.classList.add('visible'); switchProfileTab('basicInfoTab'); }
         function closeProfilePanel() { profilePanel.classList.remove('visible'); }
         function populateProfilePanel(data) { /* ... Keep population logic ... */ document.getElementById('profileName').textContent = data.name || 'N/A'; /* Update all relevant fields */ }
         function switchProfileTab(tabId) { profileTabContents.forEach(content => content.classList.remove('active')); profileTabLinks.forEach(link => link.classList.remove('active')); document.getElementById(tabId)?.classList.add('active'); document.querySelector(`.tab-link[onclick*="${tabId}"]`)?.classList.add('active'); }


        // --- FIXED: Filtering Logic ---
        const applyFiltersBtn = document.getElementById('applyFiltersBtn');
        const clearFiltersBtn = document.getElementById('clearFiltersBtn');
        const filterNameInput = document.getElementById('filterName');
        const filterCompanySelect = document.getElementById('filterCompany');
        const filterRoleSelect = document.getElementById('filterRole');
        const filterScheduleSelect = document.getElementById('filterSchedule');
        const filterStatusSelect = document.getElementById('filterStatus');
        const filterDateStartInput = document.getElementById('filterDateHiredStart');
        const filterDateEndInput = document.getElementById('filterDateHiredEnd');
        const appliedFiltersInfoSpan = document.getElementById('appliedFiltersInfo');

        function applyFilters() {
            // 1. Collect filter values
            const filters = {
                name: filterNameInput.value.trim(),
                company: filterCompanySelect.value,
                role: filterRoleSelect.value,
                schedule: filterScheduleSelect.value,
                status: filterStatusSelect.value,
                dateStart: filterDateStartInput.value,
                dateEnd: filterDateEndInput.value
            };

            // 2. Build summary string
            let filterSummaryParts = [];
            if (filters.name) filterSummaryParts.push(`Name: "${filters.name}"`);
            if (filters.company) filterSummaryParts.push(`Company: ${filters.company}`);
            if (filters.role) filterSummaryParts.push(`Role: ${filters.role}`);
            if (filters.schedule) filterSummaryParts.push(`Schedule: ${filters.schedule}`);
            if (filters.status) filterSummaryParts.push(`Status: ${filters.status}`);
            if (filters.dateStart || filters.dateEnd) {
                let datePart = "Hired: ";
                if (filters.dateStart && filters.dateEnd) datePart += `${filters.dateStart} to ${filters.dateEnd}`;
                else if (filters.dateStart) datePart += `From ${filters.dateStart}`;
                else if (filters.dateEnd) datePart += `Until ${filters.dateEnd}`;
                filterSummaryParts.push(datePart);
            }

            // 3. Update the summary info span
            if (filterSummaryParts.length > 0) {
                appliedFiltersInfoSpan.textContent = `Filters: ${filterSummaryParts.join(', ')}`;
            } else {
                appliedFiltersInfoSpan.textContent = ''; // Clear if no filters
            }

            // 4. TODO: Implement actual filtering logic
            //    - This usually involves making an API call with the `filters` object
            //    - Or, if filtering client-side, hiding/showing table rows.
            console.log("Applying filters:", filters);
            console.log("TODO: Refresh table data based on filters.");
            // Example: fetch(`/api/employees?name=${filters.name}&company=${filters.company}...`)
        }

        function clearFilters() {
            // 1. Reset all filter input values
            filterNameInput.value = '';
            filterCompanySelect.value = '';
            filterRoleSelect.value = '';
            filterScheduleSelect.value = '';
            filterStatusSelect.value = '';
            filterDateStartInput.value = '';
            filterDateEndInput.value = '';

            // 2. Re-apply filters to update summary and table
            applyFilters();
        }

        // 3. Add event listeners
        applyFiltersBtn.addEventListener('click', applyFilters);
        clearFiltersBtn.addEventListener('click', clearFilters);

        // Optional: Apply filters when Enter is pressed in the name search field
        filterNameInput.addEventListener('keypress', function(event) {
             if (event.key === 'Enter') {
                 applyFilters();
             }
        });

        // Initial application of filters on page load (optional, if you want to show default state)
        // applyFilters(); // Uncomment if needed

        // --- Placeholder for other JS (Pagination, Export) ---
        console.log("Employee Management page loaded. Implement pagination, export logic.");

    </script>

</body>
</html>